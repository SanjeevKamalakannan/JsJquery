<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Js and Jquery</title>
        <link href='https://fonts.googleapis.com/css?family=Nunito:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" />
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>  
      <h1 style="text-align: center;"> Quantiphi </h1>
      <h2 style="text-align: center; margin-top: 10px;"> Data Retrieval from API </h2>
      <div class="container">
          <div class="row justify-content-center">
              <div class="col"  >
                      <div >
                        <button id="button">Load Data</button>
                      </div>
              </div>
              <div id="postssection" styles="margin-top:10px;">

              </div>
          </div>
      </div>
    </body>
      <script>
          document.getElementById('button').addEventListener('click', fetchData);
          
            function fetchData() {
                fetch('https://jsonplaceholder.typicode.com/posts').then(response => response.json()).then(json => displayData(json)) 
            }
            function displayData(posts){
                return posts.map(function (post, index) {
                    var card = document.createElement("div");
                    card.className = 'card text-white bg-primary mb-3';
                    var cardbody = document.createElement("div");
                    card.setAttribute("class", "infoPallete");
                    card.setAttribute("id", `${post.id}`);
                    $(".infoPallete").css({"background-color":"#0195fe","color" : "white" , "padding":"10px" , "margin-top" : "10px" , "transition" : "1s"});
                    $(".infoPallete").mouseover(function(){$(this).css({"background-color" : "#fef7e4" , "color" : "#282a36" , "transition" : "1s"})})
                    $(".infoPallete").mouseout(function(){$(this).css({"background-color" : "#0195fe" , "color" : "white" , "transition" : "1s"})})
                    var h3 = document.createElement("h3");
                    h3.innerHTML = `${post.title}`;

                    var body = document.createElement("p");
                    body.innerHTML = `${post.body}`;
                    cardbody.appendChild(h3);
                    cardbody.appendChild(body);
                    card.appendChild(cardbody);
                    $(".infoPallete").each(function(i) {$(this).delay(300*i).fadeIn(300)});
                    //$(this.id).mouseover(function(){$(this).css({"background-color" : "white" })});
                    //$(`#${this.id}`).mouseout(function(){$(`#${this.id}`).css({"background-color" : "#282a36" })});
                    document.getElementById("postssection").appendChild(card);
                    //$(`${post.id}`).css("background-color" , "yellow")}
                });
            }
      </script>
    
</html>
